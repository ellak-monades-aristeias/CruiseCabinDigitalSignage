# Τεχνική Περιγραφή Συστήματος Σήμανσης Καμπινών

Η βασική ιδέα του project είναι η μετατροπή κάποιου σύνθετου αριθμού καμπίνας (π.χ 11178) σε έναν απλό κωδικό (π.χ 8 μπλε) ούτως ώστε ο επιβάτης να μπορεί εύκολα να είναι σε θέση να αναγνωρίσει την καμπίνα του. Η επιλογή του συνδυασμού ΑΡΙΘΜΟΥ – ΧΡΩΜΑΤΟΣ καλύπτει τη βασική προϋπόθεση της απλούστευσης όπου είναι ο στόχος μας.

## Εφαρμογή σε πραγματικό πρόβλημα

![cabins](https://raw.githubusercontent.com/giannismav/CruiseCabinDigitalSignage/master/Images/cabins.png)

Η εικόνα αναπαριστά έναν πραγματικό διάδρομο σε ένα κρουαζιερόπλοιο

# Δυνατότητες συστήματος

Μας δίνονται **128 καμπίνες** στις οποίες πρέπει να αναθέσουμε από έναν συνδυασμό αριθμού/χρώματος. Εμείς διαθέτουμε:

- 6 χρώματα (μπλε, κόκκινο, πράσινο, κίτρινο, μωβ, άσπρο)
- 10 ψηφία (0-9)

Αν σκεφτούμε ότι με ένα μόνο ψηφίο μπορούμε να φτιάξουμε 6 μοναδικούς συνδυασμούς ψηφίου/χρωμάτων, καταλήγουμε γρήγορα στο συμπέρασμα ότι με τους περιορισμούς που έχουμε μπορούμε να δημιουργήσουμε έως και **60 μοναδικούς συνδυασμούς** (δεδομένου φυσικά ότι κάθε ψηφίο θα εμφανίζεται τουλάχιστον 6 φορές ώστε να του ανατεθεί κάθε ένα απ' τα 6 χρώματα).

Εύλογα προκύπτει το ερώτημα **“Πώς θα διαχειριστούμε τις υπόλοιπες 68 καμπίνες;”**. Η προφανής απάντηση είναι πως σε αυτές τις καμπίνες αναπόφευκτα θα ανατεθούν ήδη υπάρχοντες συνδυασμοί. 

Αυτό που εμείς μπορούμε να κάνουμε είναι να σκεφτούμε μια λογική με την οποία θα εξασφαλίσουμε ότι τουλάχιστον αυτοί οι επαναλαμβανόμενοι συνδυασμοί δεν θα συμπέσουν σε κοντινές καμπίνες για να αποφύγουμε τη σύγχυση.

# Μεθοδολογία ανάθεσης συνδυασμών

Το πρόβλημα θα το δούμε μικροσκοπικά. Θα ασχοληθούμε με κάθε ψηφίο μεμονομένα. Ας πάρουμε για παράδειγμα το ψηφίο 4, το οποίο εμφανίζεται σε καμπίνες με νούμερα όπως 174, 184, 194, κλπ. Οι συνδυασμοί που θα πρέπει να διαχειριστούμε είναι οι: 4 μπλε, 4 κόκκινο, 4 πράσινο, 4 κίτρινο, 4 μωβ, 4 άσπρο.

Αυτό που πρέπει να κάνουμε, ώστε να διασφαλίσουμε ότι δεν θα υπάρχουν επαναλαμβανόμενοι συνδυασμοί χρωμάτων σε καμπίνες με μικρή απόσταση, π.χ (174 μπλε, 184 πράσινο, *194 μπλε*, κλπ), είναι να εκμεταλλευτούμε τον αριθμό των χρωμάτων (6) και να φτιάξουμε μια αλυσίδα.

Η αλυσίδα αυτή θα περιλαμβάνει όλα τα χρώματα, τα οποία θα διαδέχονται το ένα το άλλο χωρίς να επαναλαμβάνονται. 

π.χ 174 μπλε→184 άσπρο→194 μωβ→204 κίτρινο→214 πράσινο→224 κόκκινο. 

Η αλυσίδα αυτή είναι και το κλειδί για την ελαχιστοποίηση των επαναλήψεων (μέγιστη αλυσίδα μοναδικών συνδυασμών → ελάχιστοι κύκλοι επαναλήψεων)

Όλα καλά μέχρι εδώ. Έχουμε διαχειριστεί με τον καλύτερο δυνατό τρόπο τους αρχικούς συνδυασμούς του ψηφίου 4 αξιοποιώντας όλα τα χρώματα που διαθέτουμε και χωρίς να επαναλαμβάνονται. Έχουμε καλύψει την μέγιστη δυνατή απόσταση στο διάδρομο για την οποία δεν υπάρχουν επαναλήψεις συνδυασμών του ψηφίου 4. 

# Διαχείριση επαναλαμβανόμενων συνδυασμών

Σκεφτόμαστε ότι οι επόμενες καμπίνες θα έχουν συνδυασμούς τους οποίους αναλώσαμε μόλις πριν.
Σε αυτή τη δεύτερη φάση του προβλήματος αυτό που πρέπει να δούμε είναι **“πώς θα φτιάξουμε την επόμενη αλληλουχία χρωμάτων ώστε οι ίδιοι συνδυασμοί να μην βρίσκονται σε κοντινές καμπίνες;”** Ας πειραματιστούμε για να καταλάβουμε την ουσία του προβλήματος:

![syndiasmoi](https://raw.githubusercontent.com/giannismav/CruiseCabinDigitalSignage/master/Images/not_optimal_combination.png)

Βλέπουμε ότι έχουμε πετύχει:

- μεγάλες (καλές) αποστάσεις για μερικούς συνδυασμούς (άσπρο, κίτρινο) 
- μικρές (κακές) για κάποιους άλλους (μωβ, πράσινο)
- κανονικές (επιθυμητές) για κάποιους άλλους (μπλε, κόκκινο)

Προφανώς δεν μπορούμε να βασιστούμε σε τυχαία πειράματα για να βρούμε την βέλτιστη απόσταση, διακρίνουμε όμως κάτι που έχει αξία. Αν κάποιοι συνδυασμοί βρίσκονται σε πολύ μεγάλη απόσταση, κάποιοι άλλοι θα βρίσκονται σε πολύ κοντινή, και αντίστροφα. Οι επιλογές μας πάνω σε κάποιους συνδυασμούς θα φέρουν αντιδιαμετρικό αποτέλεσμα σε κάποιους άλλους.

Απ' το σχήμα μπορούμε να εξάγουμε κάποια πολύτιμα στατιστικά δεδομένα που θα μας βοηθήσουν στην τελική διαμόρφωση της λογικής μας. Βλέπουμε ότι η μικρότερη απόσταση που θα μπορούσαν να βρίσκονται δύο ίδιοι συνδυασμοί είναι 10 μονάδες (234-224). Ανάλογα, η μεγαλύτερη απόσταση είναι 110 μονάδες (284-174). Άρα έχουμε:

- **Μικρότερη απόσταση: 10 Μονάδες**
- **Μεγαλύτερη απόσταση: 110 Μονάδες**

Αυτό που ζητάμε στο πρόβλημά μας είναι η μέση απόσταση, η οποία θα εξισορροπήσει τις αποστάσεις για όλους τους συνδυασμούς. Κανένας συνδυασμός δεν θα είναι πιο κοντά ή πιο μακρυά απ' τον όμοιό του.

**Μέση απόσταση: (10+110)/2= 60 μονάδες**

Άρα η λύση μας θα απεικονιζόταν ως εξής:

![sindiasmoi2](https://raw.githubusercontent.com/giannismav/CruiseCabinDigitalSignage/master/Images/optimal_combination.png)

Επαληθεύεται δηλαδή κάτι λογικό, ότι δηλαδή για να βρούμε τη βέλτιστη θέση των επαναλαμβανόμενων συνδυασμών, αναπαράγουμε ακριβώς την ίδια αλυσίδα που χρησιμοποιήσαμε για να βρούμε την βέλτιστη θέση των αρχικών μας συνδυασμών.

Επομένως, αντί για αλληλουχία χρωμάτων θα μιλάμε πλέον για περίοδο χρωμάτων. Η λογική αυτή εφαρμόζεται για όλα τα ψηφία. Ωστόσο για να μην έχουμε διπλανές καμπίνες με ίδια χρώματα π.χ 174 μπλε, 176 μπλε κλπ, αυτό που απλά κάνουμε είναι για κάθε διαφορετικό ψηφίο να βάζουμε μια “μετατοπισμένη” αλληλουχία στην αλυσίδα. 

Συγκεκριμένα, για να φανεί μια πειθαρχία στην συνολική εικόνα, απλά αλλάζουμε το βήμα της περιόδου. Αν δηλαδή για το ψηφίο 4 είχαμε μπλε→άσπρο→μωβ→κίτρινο→πράσινο→κόκκινο
για το ψηφίο 6 αλλάζουμε το βήμα της περιόδου (π.χ βήμα -1) και θα έχουμε κόκκινο→μπλε→άσπρο→μωβ→κίτρινο→πράσινο

Το τι βήμα θα βάλουμε ωστόσο δεν είναι τόσο σημαντικό, είναι καθαρά θέμα εικόνας. 

Παρακάτω απεικονίζουμε έστω μια συνολική λύση που έχουμε εφαρμόζοντας στην αλληλουχία των χρωμάτων βήμα -1.

Άρτιοι

- 4: blue→white→purple→yellow→green→red
- 6: red→blue→white→purple→yellow→green
- 8: green→red→blue→white→purple→yellow
- 0: yellow→green→red→blue→white→purple
- 2: purple→yellow→green→red→blue→white

Περιττοί

- 5: yellow→green→red→blue→white→purple
- 7: purple→yellow→green→red→blue→white
- 9: white→purple→yellow→green→red→blue
- 1: blue→white→purple→yellow→green→red
- 3: red→blue→white→purple→yellow→green 

## ΕΠΑΛΗΘΕΥΣΗ ΕΛΑΧΙΣΤΩΝ ΕΠΑΝΑΛΗΨΕΩΝ

Έστω ότι υπάρχουν 15 καμπίνες με το ψηφίο 0. 

Η περίοδος έχει 6 χρώματα, άρα μπορούμε να υπολογίσουμε εύκολα τον αριθμό των επαναλαμβανόμενων συνδυασμών, καθώς και τους κύκλους επαναλήψεων, πριν ακόμα προχωρήσουμε στη λύση.

εμφανίσεις ψηφίων (15) – περίοδος (6) = αριθμός επαναλήψεων (9)

Μέχρι 6 επαναλήψεις μιλάμε για τον πρώτο κύκλο επαναλήψεων. Αν μετά την αφαίρεση των 6 επαναλήψεων έχουμε υπολειπόμενες επαναλήψεις, μιλάμε για δεύτερο κύκλο επαναλήψεων.

Το 0 εμφανίζεται 15 φορές. Άρα έχει 9 επαναλήψεις, εκ των οποίων οι 6 ανήκουν στον πρώτο κύκλο επαναλήψεων, και οι 3 στον δεύτερο.

Η λύση του προβλήματος πρέπει να επαληθεύει τα παραπάνω.
